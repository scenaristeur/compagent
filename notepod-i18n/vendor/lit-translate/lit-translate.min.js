const t="langChanged";function e(t,e,n){return Object.entries(s(e||{})).reduce((t,e)=>{let[n,i]=e;return t.replace(new RegExp("{{[  ]*".concat(n,"[  ]*}}")),String(s(i)))},t)}function n(t,e){const n=t.split(".");let s=e.strings;for(;null!=s&&n.length>0;)s=s[n.shift()];return null!=s?s.toString():null}function s(t){return"function"==typeof t?t():t}const i=()=>({loader:()=>Promise.resolve({}),empty:t=>"[".concat(t,"]"),lookup:n,interpolate:e,translationCache:{}});let o=i();function r(t){return o=Object.assign(Object.assign({},o),t)}function l(e){window.dispatchEvent(new CustomEvent(t,{detail:e}))}function a(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o;l({previousStrings:n.strings,previousLang:n.lang,lang:n.lang=t,strings:n.strings=e})}function c(e,n){const s=t=>e(t.detail);return window.addEventListener(t,s,n),()=>window.removeEventListener(t,s)}async function d(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;const n=await e.loader(t,e);e.translationCache={},a(t,n,e)}function h(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o,i=n.translationCache[t]||(n.translationCache[t]=n.lookup(t,n)||n.empty(t,n));return null!=(e=null!=e?s(e):null)?n.interpolate(i,e,n):i}const u=new WeakMap,p=t=>"function"==typeof t&&u.has(t),m=void 0!==window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,_=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;for(;e!==n;){const n=e.nextSibling;t.removeChild(e),e=n}},f={},v={},g="{{lit-".concat(String(Math.random()).slice(2),"}}"),x="\x3c!--".concat(g,"--\x3e"),N="$lit$",w=t=>-1!==t.index,y=()=>document.createComment(""),b=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=\/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;class C{constructor(t,e,n){this.__parts=[],this.template=t,this.processor=e,this.options=n}update(t){let e=0;for(const n of this.__parts)void 0!==n&&n.setValue(t[e]),e++;for(const t of this.__parts)void 0!==t&&t.commit()}_clone(){const t=m?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),e=[],n=this.template.parts,s=document.createTreeWalker(t,133,null,!1);let i,o=0,r=0,l=s.nextNode();for(;o<n.length;)if(i=n[o],w(i)){for(;r<i.index;)r++,"TEMPLATE"===l.nodeName&&(e.push(l),s.currentNode=l.content),null===(l=s.nextNode())&&(s.currentNode=e.pop(),l=s.nextNode());if("node"===i.type){const t=this.processor.handleTextExpression(this.options);t.insertAfterNode(l.previousSibling),this.__parts.push(t)}else this.__parts.push(...this.processor.handleAttributeExpressions(l,i.name,i.strings,this.options));o++}else this.__parts.push(void 0),o++;return m&&(document.adoptNode(t),customElements.upgrade(t)),t}}const E=" ".concat(g," ");class T{constructor(t,e,n,s){this.strings=t,this.values=e,this.type=n,this.processor=s}getHTML(){const t=this.strings.length-1;let e="",n=!1;for(let s=0;s<t;s++){const t=this.strings[s],i=t.lastIndexOf("\x3c!--");n=(i>-1||n)&&-1===t.indexOf("--\x3e",i+1);const o=b.exec(t);e+=null===o?t+(n?E:x):t.substr(0,o.index)+o[1]+o[2]+N+o[3]+g}return e+=this.strings[t]}getTemplateElement(){const t=document.createElement("template");return t.innerHTML=this.getHTML(),t}}const V=t=>null===t||!("object"==typeof t||"function"==typeof t),S=t=>Array.isArray(t)||!(!t||!t[Symbol.iterator]);class A{constructor(t){this.value=void 0,this.committer=t}setValue(t){t===f||V(t)&&t===this.value||(this.value=t,p(t)||(this.committer.dirty=!0))}commit(){for(;p(this.value);){const t=this.value;this.value=f,t(this)}this.value!==f&&this.committer.commit()}}class I{constructor(t){this.value=void 0,this.__pendingValue=void 0,this.options=t}appendInto(t){this.startNode=t.appendChild(y()),this.endNode=t.appendChild(y())}insertAfterNode(t){this.startNode=t,this.endNode=t.nextSibling}appendIntoPart(t){t.__insert(this.startNode=y()),t.__insert(this.endNode=y())}insertAfterPart(t){t.__insert(this.startNode=y()),this.endNode=t.endNode,t.endNode=this.startNode}setValue(t){this.__pendingValue=t}commit(){for(;p(this.__pendingValue);){const t=this.__pendingValue;this.__pendingValue=f,t(this)}const t=this.__pendingValue;t!==f&&(V(t)?t!==this.value&&this.__commitText(t):t instanceof T?this.__commitTemplateResult(t):t instanceof Node?this.__commitNode(t):S(t)?this.__commitIterable(t):t===v?(this.value=v,this.clear()):this.__commitText(t))}__insert(t){this.endNode.parentNode.insertBefore(t,this.endNode)}__commitNode(t){this.value!==t&&(this.clear(),this.__insert(t),this.value=t)}__commitText(t){const e=this.startNode.nextSibling,n="string"==typeof(t=null==t?"":t)?t:String(t);e===this.endNode.previousSibling&&3===e.nodeType?e.data=n:this.__commitNode(document.createTextNode(n)),this.value=t}__commitTemplateResult(t){const e=this.options.templateFactory(t);if(this.value instanceof C&&this.value.template===e)this.value.update(t.values);else{const n=new C(e,t.processor,this.options),s=n._clone();n.update(t.values),this.__commitNode(s),this.value=n}}__commitIterable(t){Array.isArray(this.value)||(this.value=[],this.clear());const e=this.value;let n,s=0;for(const i of t)void 0===(n=e[s])&&(n=new I(this.options),e.push(n),0===s?n.appendIntoPart(this):n.insertAfterPart(e[s-1])),n.setValue(i),n.commit(),s++;s<e.length&&(e.length=s,this.clear(n&&n.endNode))}clear(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.startNode;_(this.startNode.parentNode,t.nextSibling,this.endNode)}}let L=!1;try{const t={get capture(){return L=!0,!1}};window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(t){}function k(t){return t instanceof I?t.startNode.isConnected:t instanceof A?t.committer.element.isConnected:t.element.isConnected}(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.1.2");const M=new Map;var P;function F(t,e,n){const s=e(n);t.value!==s&&(t.setValue(s),t.commit())}c(t=>{for(const[e,n]of M)k(e)&&F(e,n,t)}),P=M,setInterval(()=>(function(t){"requestIdleCallback"in window?window.requestIdleCallback(t):setTimeout(t)})(()=>(function(t){for(const[e]of t)k(e)||t.delete(e)})(P)),6e4);const H=(t=>(function(){const e=t(...arguments);return u.set(e,!0),e}))(t=>e=>{M.set(e,t),F(e,t)}),O=(t,e,n)=>H(()=>h(t,e,n));export{i as defaultTranslateConfig,l as dispatchLangChanged,s as extract,h as get,e as interpolate,H as langChanged,c as listenForLangChanged,n as lookup,r as registerTranslateConfig,O as translate,o as translateConfig,a as updateLang,d as use};